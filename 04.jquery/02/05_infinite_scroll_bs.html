<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .layer {
            position: fixed; width: 100%; height: 100%; 
            background: #0005 url(https://i.gifer.com/ZKZg.gif) no-repeat center;
            background-size: 50px;
            top:0; left:0;
        }
        .layer.hide {display: none;}
    </style>
    <script src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js'></script>
    <script>
        $(function() {
            let counter = 1;
            function calllist() {
                let str ='';
                for(let i = 0; i < 50; i++){
                str += `<li class="list-group-item">
                        <a href="#" class="text-decoration-none">
                            <p class="text-black fw-bold mt-3 text-truncate">글 제목${counter++}</p>
                            <div class="clearfix text-secondary">
                                <span class="float-start">writer</span>
                                <span class="float-end small">2024-10-28</span>
                            </div>
                        </a>
                    </li>`
                }
                $("ul").append(str);
            }

            // 여기서 스크롤바는 doucument 가 아닌 window에 생기는 것 (cf.textarea)

            $(window).scroll(function() {
                // console.log(event);//자동으로 생성되는.. event마다 timeStamp가 다 다름;
                console.log($(this).scrollTop(), $(this).height(), $(document).height()); // a+b=c
                const result = $(document).height() - $(this).height() - 300;
                if($(this).scrollTop() > result) {
                    calllist();
                    // progress

                }             
            });
            calllist();
        });
    </script>
</head>
<body>
    <div class="wrap container">
        <h3 class="my-3 text-center">my sns</h3>
        <ul class="list-group small">
        </ul>
        <div class="layer"></div>
    </div>
</body>
</html>